<!doctype html>
<html>
   <head>
      <title>WMPSVG Lab (tray, dark)</title>
      <script src="diff-view.js"></script>
      <style>
svg[hidden] {
   display: none;
   
   &:has(defs filter) {
      display: initial;
      width:    0px;
      height:   0px;
      position: absolute;
   }
}
      </style>
   </head>
   <body>
      
      <!--
         Helper filters for our various tests and viewing options.
         These have to be inside of this file because referencing 
         SVG filters in separate files is broken (probably because 
         I'm running all of this locally and browsers cripple the 
         file:/// origin on purpose).
      -->
      <svg hidden>
         <defs>
            <filter id="filter-disable-alpha">
               <feColorMatrix
                  in="SourceGraphic"
                  type="matrix"
                  values="1 0 0 0 0
                          0 1 0 0 0
                          0 0 1 0 0
                          0 0 0 0 1"
               />
            </filter>
            <filter id="filter-show-alpha">
               <feColorMatrix
                  in="SourceGraphic"
                  type="matrix"
                  values="0 0 0 1 0
                          0 0 0 1 0
                          0 0 0 1 0
                          0 0 0 0 1"
               />
            </filter>
         </defs>
      </svg>
      
      <diff-view width="558" height="69">
         <img slot="raster" src="rips/tray-dark.bmp" width="558" height="69" />
         <svg slot="vector" width="558" height="69" color-interpolation="linearrgb">
            <defs>
               <linearGradient id="outer-fill" x1="0" x2="0" y1="0" y2="1">
                  <stop offset="0" stop-color="#636c87" />
                  <stop offset="0.25" stop-color="#3f4557" />
                  <stop offset="0.375" stop-color="#2e333f" />
                  <stop offset="0.45" stop-color="#272b35" />
                  <stop offset="0.5" stop-color="#17181d" />
                  <stop offset="0.54" stop-color="#0a0a0b" />
                  <stop offset="0.75" stop-color="#060609" />
                  <stop offset="0.78" stop-color="#050608" />
                  <stop offset="0.88" stop-color="#050608" />
                  <stop offset="0.93" stop-color="#141929" />
                  <stop offset="0.98" stop-color="#2c3555" />
               </linearGradient>
               <linearGradient id="tray-fill" x1="0" x2="0" y1="0" y2="1">
                  <stop offset="0.02" stop-color="#959fb9" />
                  <stop offset="0.04" stop-color="#616b87" />
                  <stop offset="0.125" stop-color="#576077" />
                  <stop offset="0.25" stop-color="#4c5568" />
                  <stop offset="0.48" stop-color="#3c4352" />
                  <stop offset="0.51" stop-color="#111111" />
                  <stop offset="0.80" stop-color="#121212" />
                  <stop offset="0.90" stop-color="#141a2a" />
                  <stop offset="0.98" stop-color="#424c74" />
               </linearGradient>
               <linearGradient id="tray-edge-o" x1="0" x2="0" y1="0" y2="1">
                  <!--<stop offset="0.20" stop-color="#59627a" />-->
                  <stop offset="0.39" stop-color="#5e677f" />
                  <stop offset="0.70" stop-color="#15161d" />
                  <stop offset="0.75" stop-color="#0d0d0e" />
               </linearGradient>
               <linearGradient id="tray-edge-i" x1="0" x2="0" y1="0" y2="1">
                  <stop offset="0.70" stop-color="#0d0d0e" />
                  <stop offset="0.75" stop-color="#15161d" />
                  <stop offset="0.98" stop-color="#414c73" />
               </linearGradient>
               
               <path id="tray-boundary-path"
                  d="M -10 12.5 L 0 12.5 Q 32 12.5 55 40 C 71 61 73 69 95 69 L 463 69 C 485 69 487 61 503 40 Q 526 12.5 556 12.5 L 566 12.5 l 0 -12.5 L -10 0 z"
               />
               <clipPath id="no-borders">
                  <rect y="1" width="100%" height="67" />
               </clipPath>
               
               <mask id="tray-area">
                  <use href="#tray-boundary-path" fill="#FFF" />
               </mask>
               <mask id="non-tray-area">
                  <rect width="558" height="69" fill="#FFF" />
                  <use href="#tray-boundary-path" fill="#000" />
               </mask>
            </defs>
            
            <!--<use href="#tray-boundary-path" fill="none" stroke="red" stroke-width="1" />-->
            <rect
               width="558" height="69"
               mask="url(#non-tray-area)"
               fill="url(#outer-fill)"
            />
            <rect
               width="558" height="69"
               mask="url(#tray-area)"
               fill="url(#tray-fill)"
            />
            
            <use href="#tray-boundary-path"
               fill="none" stroke="url(#tray-edge-o)" stroke-width="3"
               clip-path="url(#no-borders)"
               mask="url(#non-tray-area)"
            />
            <use href="#tray-boundary-path"
               fill="none" stroke="url(#tray-edge-i)" stroke-width="1"
               clip-path="url(#no-borders)"
            />
   
            <g stroke-width="2">
               <line x1="-5%" x2="100%" y1="0" y2="0" stroke="#212224" />
               <line x1="-5%" x2="100%" y1="69" y2="69" stroke="#161a20" />
               <line x1="95" x2="463" y1="69" y2="69" stroke="#191d25" />
            </g>
         </svg>
      </diff-view>
   </body>
</html>